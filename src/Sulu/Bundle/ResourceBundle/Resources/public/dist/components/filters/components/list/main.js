define(["config","filtersutil/header"],function(a,b){"use strict";var c=function(){this.sandbox.on("sulu.list-toolbar.add",function(){this.sandbox.emit("sulu.resource.filters.new")}.bind(this)),this.sandbox.on("sulu.header.back",function(){var b=a.get("suluresource.filters.type."+this.options.context);b.routeToList&&this.sandbox.emit("sulu.router.navigate",b.routeToList)}.bind(this)),this.sandbox.on("sulu.list-toolbar.delete",function(){this.sandbox.emit("husky.datagrid.items.get-selected",function(a){this.sandbox.emit("sulu.resource.filters.delete",a,this.options.context)}.bind(this))}.bind(this))};return{view:!0,fullSize:{width:!0},layout:{content:{width:"max"}},header:function(){return{title:"resource.filter",noBack:!1}},templates:["/admin/resource/template/filter/list"],initialize:function(){this.render(),c.call(this)},renderGrid:function(){this.sandbox.dom.html(this.$el,this.renderTemplate("/admin/resource/template/filter/list")),this.sandbox.sulu.initListToolbarAndList.call(this,"filterFields","/admin/api/filters/fields",{el:this.$find("#list-toolbar-container"),instanceName:"filterSearch",parentTemplate:"default",inHeader:!0},{el:this.sandbox.dom.find("#filter-list",this.$el),url:"/admin/api/filters?flat=true&context="+this.options.context,resultKey:"filters",searchInstanceName:"filterSearch",searchFields:["name"],actionCallback:function(a){this.sandbox.emit("sulu.resource.filters.edit",a)}.bind(this)})},render:function(){this.renderGrid(),this.setHeaderInformation()},setHeaderInformation:function(){b.setTitle(this.sandbox,null),b.setBreadCrumb(this.sandbox,this.options.context,null)}}});