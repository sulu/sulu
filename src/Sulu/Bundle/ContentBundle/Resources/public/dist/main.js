require.config({paths:{sulucontent:"../../sulucontent/dist",sulucontentcss:"../../sulucontent/css","type/resourceLocator":"../../sulucontent/dist/validation/types/resourceLocator","type/textEditor":"../../sulucontent/dist/validation/types/textEditor","type/smartContent":"../../sulucontent/dist/validation/types/smartContent","type/internalLinks":"../../sulucontent/dist/validation/types/internalLinks","type/singleInternalLink":"../../sulucontent/dist/validation/types/singleInternalLink","type/block":"../../sulucontent/dist/validation/types/block","type/toggler":"../../sulucontent/dist/validation/types/toggler","extensions/sulu-buttons-contentbundle":"../../sulucontent/dist/extensions/sulu-buttons","extensions/seo-tab":"../../sulucontent/dist/extensions/seo-tab","extensions/excerpt-tab":"../../sulucontent/dist/extensions/excerpt-tab"}}),define(["config","extensions/sulu-buttons-contentbundle","extensions/seo-tab","extensions/excerpt-tab","sulucontent/ckeditor/internal-link","css!sulucontentcss/main"],function(a,b,c,d,e){return{name:"Sulu Content Bundle",initialize:function(f){"use strict";function g(b){var c=h.sulu.getUserSetting(b+".contentLanguage");return c?c:(c=h.sulu.getUserSetting("contentLanguage"),c&&a.get("sulu-content").locales[b][c]?c:(a.get("sulu-content").locales[b]&&0!==Object.keys(a.get("sulu-content").locales[b]).length||f.logger.error('Webspace "'+b+'" has no defined locale'),c=Object.keys(a.get("sulu-content").locales[b])[0],a.get("sulu-content").locales[b][c].localization))}c.initialize(f),d.initialize(f);var h=f.sandbox,i=a.get("sulu_content.texteditor_toolbar");h.sulu.buttons.push(b.getButtons()),f.components.addSource("sulucontent","/bundles/sulucontent/dist/components"),a.set("sulusearch.page.options",{image:!1}),h.urlManager.setUrl("page",function(a){return"content/contents/<%= webspace %>/<%= locale %>/edit:<%= id %>/content"},function(a){return{id:a.id,webspace:a.properties.webspace_key,url:a.url,locale:a.locale}},function(a){return 0===a.indexOf("page_")?"page":void 0}),h.mvc.routes.push({route:"content/contents/:webspace",callback:function(a){var b=g(a);h.emit("sulu.router.navigate","content/contents/"+a+"/"+b)}}),h.mvc.routes.push({route:"content/contents/:webspace/:language",callback:function(a,b){return'<div data-aura-component="content@sulucontent" data-aura-webspace="'+a+'" data-aura-language="'+b+'" data-aura-display="column" data-aura-preview="false"/>'}}),h.mvc.routes.push({route:"content/contents/:webspace/:language/add::id/:content",callback:function(a,b,c,d){return'<div data-aura-component="content@sulucontent" data-aura-webspace="'+a+'" data-aura-language="'+b+'" data-aura-content="'+d+'" data-aura-parent="'+c+'"/>'}}),h.mvc.routes.push({route:"content/contents/:webspace/:language/add/:content",callback:function(a,b,c){return'<div data-aura-component="content@sulucontent" data-aura-webspace="'+a+'" data-aura-language="'+b+'" data-aura-content="'+c+'"/>'}}),h.mvc.routes.push({route:"content/contents/:webspace/edit::id/:content",callback:function(a,b,c){var d=g(a);h.emit("sulu.router.navigate","content/contents/"+a+"/"+d+"/edit:"+b+"/"+c)}}),h.mvc.routes.push({route:"content/contents/:webspace/:language/edit::id/:content",callback:function(a,b,c,d){return'<div data-aura-component="content@sulucontent" data-aura-webspace="'+a+'" data-aura-language="'+b+'" data-aura-content="'+d+'" data-aura-id="'+c+'" data-aura-preview="true"/>'}}),h.mvc.routes.push({route:"content/webspace/settings::id/:content",callback:function(a){return'<div data-aura-component="webspace/settings@sulucontent" data-aura-id="'+a+'" data-aura-webspace="'+a+'" />'}}),h.ckeditor.addPlugin("internalLink",new e(f.sandboxes.create("plugin-internal-link"))),h.ckeditor.addToolbarButton("links","InternalLink","arrow-down"),i&&i.userToolbar&&h.ckeditor.setToolbar(i.userToolbar)}}});